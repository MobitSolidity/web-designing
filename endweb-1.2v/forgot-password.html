<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="بازیابی رمز عبور حساب کاربری در فروشگاه مکمل‌های ورزشی MSH Supplement."
    />
    <title>فراموشی رمز عبور - MSH Supplement</title>
    <link rel="stylesheet" href="css/bootstrap.rtl.min.css" />
    <link rel="stylesheet" href="css/all.min.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="login.css" />
    <style>
      #form-messages {
        display: none;
        padding: 0.75rem 1.25rem;
        margin-bottom: 1rem;
        border: 1px solid transparent;
        border-radius: 0.25rem;
      }
      #form-messages.alert-success {
        color: #155724;
        background-color: #d4edda;
        border-color: #c3e6cb;
      }
      #form-messages.alert-danger {
        color: #721c24;
        background-color: #f8d7da;
        border-color: #f5c6cb;
      }
    </style>
  </head>
  <body class="login-page-body">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold" href="index.html">MSH Supplement</a>
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html"
              ><i class="fas fa-store me-1"></i> بازگشت به فروشگاه</a
            >
          </li>
        </ul>
      </div>
    </nav>

    <div class="login-container container">
      <div class="row justify-content-center w-100">
        <div class="col-11 col-sm-10 col-md-8 col-lg-6 login-form-col">
          <div class="login-form-wrapper">
            <div class="login-header text-center mb-4">
              <img
                src="content/logo.jpg"
                alt="لوگو MSH Supplement"
                class="login-logo mb-3 img-fluid"
              />
              <h2 class="fw-bold">بازیابی رمز عبور</h2>
              <p class="text-muted">
                ایمیل حساب کاربری خود را وارد کنید تا لینک بازیابی برایتان ارسال
                شود.
              </p>
            </div>
            <div id="form-messages" role="alert"></div>
            <form id="forgotPasswordForm">
              <div class="form-floating mb-3">
                <input
                  type="email"
                  class="form-control"
                  id="recoveryEmail"
                  placeholder="name@example.com"
                  required
                />
                <label for="recoveryEmail">آدرس ایمیل ثبت شده</label>
              </div>

              <button
                class="btn btn-primary w-100 btn-lg login-btn"
                type="submit"
              >
                <i class="fas fa-paper-plane me-2"></i> ارسال لینک بازیابی
              </button>

              <p class="text-center mt-4 mb-0">
                رمز عبور خود را به خاطر آوردید؟
                <a href="login.html" class="register-link fw-bold">وارد شوید</a>
              </p>
            </form>
          </div>
        </div>
      </div>
    </div>

    <footer class="text-center p-3 mt-auto login-footer">
      © ۱۴۰۴ تمامی حقوق برای
      <a href="index.html" class="text-dark fw-bold text-decoration-none"
        >MSH Supplement</a
      >
      محفوظ است.
    </footer>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script>
      const forgotPasswordForm = document.getElementById("forgotPasswordForm");
      const formMessages = document.getElementById("form-messages");

      function showRecoveryMessage(message, type) {
        if (formMessages) {
          formMessages.textContent = message;
          formMessages.className = ""; // Reset classes
          formMessages.classList.add("alert-" + type);
          formMessages.style.display = "block";
        }
      }

      if (forgotPasswordForm) {
        forgotPasswordForm.addEventListener("submit", function (event) {
          event.preventDefault();
          if (formMessages) formMessages.style.display = "none";

          const email = document.getElementById("recoveryEmail").value;

          if (!email) {
            showRecoveryMessage("لطفاً آدرس ایمیل خود را وارد کنید.", "danger");
            return;
          }
          // Basic email format validation (you might want a more robust regex)
          if (!/^\S+@\S+\.\S+$/.test(email)) {
            showRecoveryMessage(
              "لطفاً یک آدرس ایمیل معتبر وارد کنید.",
              "danger"
            );
            return;
          }

          // Simulate API call
          showRecoveryMessage("در حال ارسال لینک بازیابی... (نمونه)", "info");
          setTimeout(() => {
            // In a real application, you would send a recovery email.
            showRecoveryMessage(
              "اگر ایمیل شما در سیستم موجود باشد، لینک بازیابی برایتان ارسال خواهد شد.",
              "success"
            );
            forgotPasswordForm.reset();
          }, 2000);
        });
      }
    </script>
  </body>
</html>
